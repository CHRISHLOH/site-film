<!DOCTYPE html>
<html lang="ru" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Фильмы</title>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background-color: #000;
            color: #fff;
        }

        header {
            background-color: #111;
            padding: 10px 20px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .site-title {
            font-size: 40px;
            color: #fff;
            margin: 0;
            text-transform: uppercase;
        }

        .menu {
            list-style: none;
            display: flex;
            gap: 20px;
            margin: 0;
            padding: 0;
        }

        .menu a {
            color: #fff;
            text-decoration: none;
            font-weight: bold;
        }

        .menu a:hover {
            color: #8a2be2;
        }

        .auth-buttons .login, .auth-buttons .register {
            color: #fff;
            margin-left: 20px;
            text-decoration: none;
        }

        .auth-buttons .register {
            border: 2px solid #8a2be2;
            padding: 5px 10px;
            border-radius: 5px;
        }

        .movie-poster {
            background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('https://via.placeholder.com/800x800');
            background-size: cover;
            height: 500px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .poster-content {
            text-align: center;
        }

        .movie-title {
            font-size: 36px;
            color: #fff;
            text-shadow: 2px 2px 10px #000;
        }

        .movie-details {
            font-size: 18px;
            color: #ccc;
        }

        .movie-info {
            display: flex;
            gap: 20px;
            padding: 20px;
        }

        .description, .additional-info, .ratings {
            flex: 1;
            background-color: #111;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.7);
        }

        h3 {
            color: #8a2be2;
        }

        .ratings .rating-value {
            font-size: 48px;
            color: #8a2be2;
            font-weight: bold;
            margin: 10px 0;
        }

        .detailed-info {
            padding: 20px;
            background-color: #111;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.7);
        }

        .detailed-info h3 {
            margin-bottom: 10px;
        }

        .info-group {
            margin-bottom: 20px;
        }

        .info-group p {
            margin: 5px 0;
            line-height: 1.5;
        }

        h2 {
            margin: 20px; /* Отступы вокруг заголовка */
            font-size: 24px; /* Размер шрифта заголовка */
        }

        .carousel-container {
            position: relative; /* Устанавливаем относительно родителя для кнопок управления */
            width: 100%; /* Ширина контейнера 100% */
            overflow: hidden; /* Скрываем содержимое, выходящее за границы */
            padding: 20px 0; /* Отступ сверху и снизу */
        }

        .carousel-track {
            display: flex; /* Делаем элементы внутри контейнера горизонтальными */
            gap: 25px; /* Расстояние между элементами */
            overflow-x: auto; /* Добавляем горизонтальную прокрутку */
            scroll-behavior: smooth; /* Анимация при прокрутке (плавная) */
            padding: 10px; /* Внутренние отступы контейнера */
        }

        .carousel-track::-webkit-scrollbar {
            display: none; /* Скрываем горизонтальный скроллбар */
        }

        .carousel-item-movie {
            flex: 0 0 300px; /* Фиксированная ширина карточек */
            height: 200px; /* Фиксированная высота карточек */
            background-color: #333; /* Фон карточки темно-серый */
            border-radius: 15px; /* Скругленные углы карточки */
            display: flex; /* Включаем flexbox для центровки содержимого */
            justify-content: center; /* Горизонтальная центровка текста */
            align-items: center; /* Вертикальная центровка текста */
            color: #fff; /* Цвет текста белый */
            font-size: 16px; /* Размер шрифта */
            text-align: center; /* Выравнивание текста по центру */
            transition: transform 0.3s, box-shadow 0.3s, background-color 0.3s; /* Анимация при наведении */
            cursor: pointer; /* Указываем, что элемент кликабельный */
        }

        .carousel-item-actor {
            flex: 0 0 200px; /* Фиксированная ширина карточек */
            height: 300px; /* Фиксированная высота карточек */
            background-color: #333; /* Фон карточки темно-серый */
            border-radius: 15px; /* Скругленные углы карточки */
            display: flex; /* Включаем flexbox для центровки содержимого */
            justify-content: center; /* Горизонтальная центровка текста */
            align-items: center; /* Вертикальная центровка текста */
            color: #fff; /* Цвет текста белый */
            font-size: 16px; /* Размер шрифта */
            text-align: center; /* Выравнивание текста по центру */
            transition: transform 0.3s, box-shadow 0.3s, background-color 0.3s; /* Анимация при наведении */
            cursor: pointer; /* Указываем, что элемент кликабельный */
        }

        .carousel-item-actor:hover {
            transform: scale(1.05); /* Увеличение карточки при наведении */
            box-shadow: 0 0 30px rgba(128, 0, 190, 0.8); /* Добавление тени */
            background-color: #444; /* Изменение фона карточки */
        }

        .carousel-button {
            position: absolute; /* Абсолютное позиционирование для расположения кнопок */
            top: 50%; /* Центрируем по вертикали относительно контейнера */
            transform: translateY(-50%); /* Сдвиг для идеального центрирования */
            background-color: rgba(0, 0, 0, 0.7); /* Полупрозрачный черный фон кнопок */
            border: none; /* Убираем границы */
            color: #fff; /* Белый цвет текста */
            font-size: 24px; /* Размер текста */
            cursor: pointer; /* Указываем, что кнопка кликабельная */
            z-index: 10; /* Располагаем кнопку поверх остальных элементов */
            padding: 10px; /* Внутренний отступ кнопки */
            border-radius: 50%; /* Круглая форма кнопки */
        }

        .carousel-button.left {
            left: 10px; /* Расположение кнопки "влево" относительно левого края */
        }

        .carousel-button.right {
            right: 10px; /* Расположение кнопки "вправо" относительно правого края */
        }

        .carousel-button.disabled {
            opacity: 0.5; /* Уменьшаем прозрачность для неактивной кнопки */
            cursor: not-allowed; /* Указываем, что кнопка недоступна для взаимодействия */
        }

        @media (max-width: 768px) {
            .carousel-item-actor {
                flex: 0 0 150px; /* Уменьшение ширины карточек на мобильных устройствах */
                height: 200px; /* Уменьшение высоты карточек */
            }

            .carousel-button {
                font-size: 18px; /* Уменьшение размера кнопок на мобильных устройствах */
                padding: 8px; /* Уменьшение внутренних отступов кнопок */
            }
        }

        .actor-card {
            display: flex; /* Делаем карточки с актерами flex-контейнерами */
            flex-direction: column; /* Располагаем содержимое по вертикали */
            align-items: center; /* Центрируем содержимое по горизонтали */
            gap: 10px; /* Расстояние между элементами внутри карточки */
        }

        .actor-photo {
            width: 120px; /* Фиксированная ширина фото */
            height: 120px; /* Фиксированная высота фото */
            border-radius: 50%; /* Делает фото круглым */
            background-color: #333; /* Фон темно-серый */
            background-size: cover; /* Масштабирование фото под размер контейнера */
            background-position: center; /* Центровка фото внутри контейнера */
            border: 3px solid #444; /* Серый контур фото */
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.2); /* Легкая белая тень */
            transition: transform 0.3s, box-shadow 0.3s; /* Анимация при наведении */
        }

        .actor-photo:hover {
            transform: scale(1.1); /* Увеличение фото при наведении */
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.5); /* Увеличение тени */
        }

        .actor-name {
            font-size: 16px; /* Размер текста имени актера */
            font-weight: bold; /* Жирное начертание текста */
        }

        .actor-role {
            font-size: 14px; /* Размер текста роли актера */
            color: #aaa; /* Светло-серый цвет текста */
        }

        .player-container {
            display: flex;
            flex-direction: column; /* Элементы располагаются вертикально */
            align-items: center; /* Выравнивание по центру */
            margin: 20px 0; /* Отступ сверху и снизу */
        }

        .player-title {
            font-size: 24px; /* Размер текста названия */
            font-weight: bold; /* Жирное начертание */
            margin-bottom: 10px; /* Отступ снизу */
            color: #fff; /* Белый цвет текста */
        }

        .player-placeholder {
            width: 640px; /* Ширина заглушки */
            height: 360px; /* Высота заглушки (16:9 пропорция) */
            background-color: #333; /* Темно-серый фон */
            border-radius: 10px; /* Скругленные углы */
            display: flex; /* Flex-контейнер для центровки текста */
            justify-content: center; /* Горизонтальная центровка */
            align-items: center; /* Вертикальная центровка */
            color: #aaa; /* Светло-серый цвет текста */
            font-size: 16px; /* Размер текста */
            text-align: center; /* Выравнивание текста */
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.2); /* Легкая тень вокруг заглушки */
        }

        @media (max-width: 768px) {
            .player-placeholder {
                width: 100%; /* Заглушка адаптируется к ширине экрана */
                height: auto; /* Автоматическая высота с сохранением пропорций */
                aspect-ratio: 16 / 9; /* Пропорция 16:9 */
            }

            .player-title {
                font-size: 20px; /* Уменьшение размера названия на мобильных устройствах */
            }
        }
    </style>
</head>
<body>
<header>
    <div class="header-container">
        <h1 class="site-title"  >Название 1 сайта</h1>
        <nav>
            <ul class="menu">
                <li><a href="#">Фильмы</a></li>
                <li><a href="#">Сериалы</a></li>
                <li><a href="#">Аниме</a></li>
                <li><a href="#">Мультфильмы</a></li>
            </ul>
        </nav>
        <div class="auth-buttons">
            <a href="#" class="login">Войти</a>
            <a href="#" class="register">Регистрация</a>
        </div>
    </div>
</header>
<main>
    <div class="movie-poster">
        <div class="poster-content">
            <h2 class="movie-title" id="movie-title"></h2>
            <p class="movie-details" id="movie-details"></p>
        </div>
    </div>
    <div class="movie-info">
        <div class="description">
            <h3>Описание:</h3>
            <span id="movie-description"></span>
        </div>
        <div class="ratings">
            <h3>Рейтинг сайта</h3>
            <p class="rating-value">8.9</p>
            <p>Рейтинг Кинопоиск/IMDB: 7.0/99</p>
        </div>
    </div>
</main>

<h2>Режиссёры и актёры</h2>
<div class="carousel-container">
    <button class="carousel-button left" onclick="scrollCarousel(-1, 'actorCarousel')" id="leftActorButton">&#10094;</button>
    <div class="carousel-track" id="actorCarousel">
        <!-- Карточки добавляются динамически -->
    </div>
    <button class="carousel-button right" onclick="scrollCarousel(1, 'actorCarousel')" id="rightActorButton">&#10095;</button>
</div>

<div class="player-container">
    <h2 class="player-title">
        <span></span>
    </h2>
    <div class="player-placeholder">
        Видео плеер (заглушка)
    </div>
</div>

<h2>Похожие фильмы</h2>
<div class="carousel-container">
    <button class="carousel-button left" onclick="scrollCarousel(-1, 'movieCarousel')" id="leftMovieButton">&#10094;</button>
    <div class="carousel-track" id="movieCarousel">
        <!-- Примерные элементы -->
        <div class="carousel-item-movie">Фильм 1</div>
        <div class="carousel-item-movie">Фильм 2</div>
        <div class="carousel-item-movie">Фильм 3</div>
        <div class="carousel-item-movie">Фильм 4</div>
        <div class="carousel-item-movie">Фильм 5</div>
        <div class="carousel-item-movie">Фильм 6</div>
        <div class="carousel-item-movie">Фильм 7</div>
        <div class="carousel-item-movie">Фильм 8</div>
        <div class="carousel-item-movie">Фильм 1</div>
        <div class="carousel-item-movie">Фильм 2</div>
    </div>
    <button class="carousel-button right" onclick="scrollCarousel(1, 'movieCarousel')" id="rightMovieButton">&#10095;</button>
</div>
<div class="movie-info">
    <div class="description">
        <h3>Информация</h3>
        <p><strong>Страна:</strong> США</p>
        <p><strong>Жанр:</strong> Боевики, Триллеры, Криминальное, Детективы</p>
        <p><strong>Оригинальное название:</strong> Thug</p>
    </div>
    <div class="description">
        <h3>Съёмочная группа</h3>
        <p><strong>Режиссёр:</strong> Ханс Петтер Муланд</p>
        <p><strong>Актёры:</strong> Лиам Нисон, Рон Перлман, Фрэнки Шоу, Дэниэл Димер, Ханс Петтер Муланд, Йолонда Росс, Дина Тарраза, Джимми Гонсалес, Левон Панек, Райан Хомчик, Мэттью Деламейтер, Хавьер Молина, Джош Дреннен, Том Кемп, Брюс Соскья, Уильям Ксифарас, Кейт Аваллоне, Николас Дилэйни, Майкл Джианнон, Омар Мустафа Гоним, Кэлли Мэрайя Табор, Роуз Маллик, Брайан Уайт, Райан Карауэй, Терренс Пуллиам, Джон Дадди, Крис Эйверс, Розарио Вилламан, Элайджа Акиндоли, Жермен Браун, Шанель Роуз Коннор, Пол Корвин мл., Джо Кертин, Эмилия Камилль Хэрвуд, Кейси МакНил, Йен Дилан Хант, Роберт Лофтус, Уэс Месерв, Крис Палермо, Кайла Кола, Келлен Раффаэло, Тайлер М. Рейни, Брайан Сэвидж, Джеймс Солопулос, Мэрилин Суик, Гиа Трусдейл, Илья Цымбал</p>
    </div>
    <div class="ratings">
        <h3>Звук и субтитры</h3>
        <p><strong>Аудиодорожки:</strong> Русский</p>
        <p><strong>Качество:</strong> SD, HD, Full HD</p>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const currentUrl = new URL(window.location.href);
        const movieId = currentUrl.pathname.split('/').pop(); // Получаем ID фильма из URL
        const movieApiUrl = `/user/movie/${movieId}`;

        fetch(movieApiUrl)
            .then(response => {
                if (response.ok) {
                    return response.json();
                } else {
                    throw new Error('Ошибка загрузки данных о фильме');
                }
            })
            .then(movie => {
                // Заполняем основную информацию о фильме
                document.getElementById('movie-title').textContent = movie.title;

                const genres = movie.genres.map(genre => genre.genre).join(', ') || 'Жанры не указаны';
                const details = `${genres} | ${movie.duration} | ${movie.country.country}`;
                document.getElementById('movie-details').textContent = details;

                document.getElementById('movie-description').textContent = movie.description;

                // Заполняем карусель режиссёров и актёров
                const actorCarousel = document.getElementById('actorCarousel');
                actorCarousel.innerHTML = ''; // Очищаем карусель перед добавлением

                movie.people.forEach(person => {
                    const actorCard = document.createElement('div');
                    actorCard.className = 'carousel-item-actor';

                    actorCard.innerHTML = `
                        <div class="actor-card">
                            <div class="actor-photo" style="background-image: url('https://via.placeholder.com/120');"></div>
                            <div class="actor-name">${person.firstName} ${person.lastName}</div>
                            <div class="actor-role">${person.careers.map(career => career.career).join(', ')}</div>
                        </div>
                    `;

                    actorCarousel.appendChild(actorCard);
                });

                // Обновляем состояние кнопок карусели
                updateButtons(actorCarousel, 'actorCarousel');
            })
            .catch(error => {
                console.error('Ошибка:', error);
            });
    });

    function scrollCarousel(direction, carouselId) {
        const carousel = document.getElementById(carouselId);
        const scrollAmount = carousel.clientWidth; // Прокручиваем на ширину видимой области
        carousel.scrollBy({
            left: direction * scrollAmount,
            behavior: 'smooth',
        });

        // После прокрутки проверяем, можно ли ещё скроллить
        setTimeout(() => updateButtons(carousel, carouselId), 300);
    }

    function updateButtons(carousel, carouselId) {
        const leftButton = document.getElementById(`left${carouselId.charAt(0).toUpperCase() + carouselId.slice(1)}Button`);
        const rightButton = document.getElementById(`right${carouselId.charAt(0).toUpperCase() + carouselId.slice(1)}Button`);

        if (carousel.scrollLeft === 0) {
            leftButton.classList.add('disabled');
        } else {
            leftButton.classList.remove('disabled');
        }

        if (carousel.scrollLeft + carousel.clientWidth >= carousel.scrollWidth) {
            rightButton.classList.add('disabled');
        } else {
            rightButton.classList.remove('disabled');
        }
    }

    // Инициализация состояния кнопок при загрузке
    window.onload = () => {
        updateButtons(document.getElementById('actorCarousel'), 'actorCarousel');
    };
</script>
</body>
</html>
